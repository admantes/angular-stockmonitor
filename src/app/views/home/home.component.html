<div class="container-fluid"> 
  <div class="row">
<div class="col-lg-2 bg-secondary mt-2  text-white"> Sidebar</div>
<div class="col-lg-9">
<div class="bg-secondary text-white mt-2 p-2 bg-success"> The following are real time values from the Philippine Stock Market</div> 
 
<table class="table table-striped">
  <thead>    
  <tr>
    <th scope="col"> # </th>
    <th scope="col"> Symbol </th>
    <th scope="col">Shares</th>
    <th scope="col"> Current Price </th>
    <th scope="col"> Ave. Price</th>
    <th scope="col"> % Change</th>
    <th scope="col"> Market Value </th>
    <th scope="col"> Total Cost </th>
    <th scope="col"> Gain/Loss </th>
    <th scope="col"> Stop Loss</th> 
    <th scope="col"> Target</th>
    <th scope="col"> Advice </th>
    <th scope="col"> Actions</th>
  </tr> 
  </thead>
  <tbody>
 
  <tr *ngFor="let stock of stocks; index as i"> 
    <th scope="row">{{ i + 1 }}</th>
    <td>{{ stock.symbol | uppercase }}</td>
    <td><span  *ngIf="isEditing(i)"> <input style="width: 100%;" #shares (keyup)="updateShares(shares.value)"></span><span *ngIf="!isEditing(i)">{{ stock.shares | number  }} </span></td>   
    <td>{{ stock.price | number }}</td> 
    <td><span  *ngIf="isEditing(i)"> <input style="width: 50px;" #editPrice (keyup)="updateAveragePrice(editPrice.value)"></span><span *ngIf="!isEditing(i)">{{ stock.aveprice | number }} </span></td> 
    <td>{{ stock.percent_change }}</td> 
    <td>{{ stock.marketvalue | number:"1.2-2"  }}</td> 
    <td>{{ stock.totalcost | number:"1.2-2"  }}</td> 
    <td [ngClass]="stock.fcolor">{{ stock.gainloss | number:"1.2-2" }}</td> 
    <td>{{ stock.stoploss | number:"1.2-2"  }}</td> 
    <td>{{ stock.target | number:"1.2-2"   }}</td> 
    <td [ngClass]=" stock.action | actionColor ">{{ stock.action }}</td> 
    <td> 

      <!-- Normal View -->
      <span *ngIf="!isEditing(i)"> 
         <fa name="pencil" tooltip="Edit" (click)="showEditFields(i)"></fa> &nbsp; <fa name="trash" tooltip="Delete" (click)="deleteStock(stock.symbol)"></fa> 
      </span>
      <!-- Editing View-->
      <span *ngIf="isEditing(i)">
      <fa name="close" tooltip="Edit" (click)="cancelEditing()"></fa> &nbsp; <fa name="check" tooltip="Update" (click)="updateStock(stock.symbol)"></fa> 
    </span>
    </td>
  </tr>
  </tbody>
</table>
<input #box (keyup.enter)="onEnter(box.value)">
</div>
</div>
</div>